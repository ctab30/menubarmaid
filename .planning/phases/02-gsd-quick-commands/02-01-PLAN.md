---
phase: 02-gsd-quick-commands
plan: 01
type: execute
wave: 1
depends_on: []
files_modified: [views/index.html, views/css/style.css, views/js/renderer.js]
autonomous: true
---

<objective>
Add a GSD quick command bar to the terminal view that allows one-click execution of common GSD workflow commands.

Purpose: Make GSD workflows instantly accessible without typing commands manually.
Output: Command bar with 4 buttons that send slash commands directly to the PTY session.
</objective>

<execution_context>
@~/.claude/get-shit-done/workflows/execute-plan.md
@~/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/01-security-foundation/SUMMARY-A.md
@views/index.html
@views/js/renderer.js
@views/css/style.css
</context>

<tasks>

<task type="auto">
  <name>Task 1: Add command bar HTML structure</name>
  <files>views/index.html</files>
  <action>
Add a command bar container inside the terminal-view, between the terminal-bar and terminal-container.

Structure:
```html
<!-- GSD Command Bar -->
<div id="gsd-command-bar" class="gsd-command-bar">
    <button class="gsd-cmd-btn" data-cmd="/gsd:progress" title="Check project progress">
        <span class="gsd-cmd-icon">...</span>
        <span class="gsd-cmd-label">Progress</span>
    </button>
    <button class="gsd-cmd-btn" data-cmd="/gsd:status" title="Check agent status">
        <span class="gsd-cmd-icon">...</span>
        <span class="gsd-cmd-label">Status</span>
    </button>
    <button class="gsd-cmd-btn" data-cmd="/gsd:plan-phase" title="Plan current phase">
        <span class="gsd-cmd-icon">...</span>
        <span class="gsd-cmd-label">Plan</span>
    </button>
    <button class="gsd-cmd-btn" data-cmd="/gsd:execute-plan" title="Execute current plan">
        <span class="gsd-cmd-icon">...</span>
        <span class="gsd-cmd-label">Execute</span>
    </button>
</div>
```

Use appropriate SVG icons:
- Progress: chart/progress icon
- Status: activity/pulse icon
- Plan: document/clipboard icon
- Execute: play/arrow icon

Place after the terminal-bar div and before terminal-container.
  </action>
  <verify>Open views/index.html and confirm the gsd-command-bar element exists with 4 buttons</verify>
  <done>Command bar HTML structure added with 4 GSD command buttons</done>
</task>

<task type="auto">
  <name>Task 2: Style command bar with iOS design</name>
  <files>views/css/style.css</files>
  <action>
Add CSS styles for the GSD command bar following the existing iOS design language.

Key styles:
1. Command bar container:
   - Horizontal flex layout with gap
   - Padding matching terminal-bar (12px 16px)
   - Background slightly different from terminal-bar for visual separation
   - Border-bottom to separate from terminal

2. Command buttons (.gsd-cmd-btn):
   - Flex layout with icon + label
   - Compact size (auto width, ~32px height)
   - Background: rgba(255, 255, 255, 0.06)
   - Border-radius: var(--radius-sm)
   - Smooth hover transition with scale and background change
   - Active state with scale down (like existing btn-icon)

3. Icon styling:
   - Size: 14-16px
   - Color: var(--text-secondary)
   - On hover: var(--accent)

4. Label styling:
   - Font-size: 11px
   - Font-weight: 500
   - Color: var(--text-secondary)
   - On hover: var(--text)

5. Executing state (.gsd-cmd-btn.executing):
   - Background: var(--accent-bg)
   - Color: var(--accent)
   - Subtle pulse animation

Follow existing animation tokens (--ease-out-quart, --duration-fast, etc.).
  </action>
  <verify>npm start and visually confirm command bar appears styled correctly in terminal view</verify>
  <done>Command bar styled with iOS design language, hover/active states, and executing animation</done>
</task>

<task type="auto">
  <name>Task 3: Implement command execution with visual feedback</name>
  <files>views/js/renderer.js</files>
  <action>
Add JavaScript to handle GSD command button clicks and send commands to the PTY session.

Implementation:
1. Add event listeners for command buttons in setupEventListeners():
```javascript
document.querySelectorAll('.gsd-cmd-btn').forEach(btn => {
    btn.addEventListener('click', () => executeGsdCommand(btn));
});
```

2. Create executeGsdCommand function:
```javascript
async function executeGsdCommand(button) {
    if (!currentSessionId) return;

    const cmd = button.dataset.cmd;
    if (!cmd) return;

    // Visual feedback - add executing state
    button.classList.add('executing');

    // Send command to terminal (with newline to execute)
    await window.api.write(currentSessionId, cmd + '\r');

    // Remove executing state after brief delay
    setTimeout(() => {
        button.classList.remove('executing');
    }, 500);
}
```

3. Ensure terminal has focus after command execution so user can see output.

4. The command is sent directly to the PTY which means Claude Code will receive and process it.

Key considerations:
- Use structured IPC pattern (unwrap if needed, but write doesn't return data)
- Don't block UI - command execution is async
- Visual feedback is brief (500ms) since actual execution happens in terminal
  </action>
  <verify>
1. npm start
2. Create a session
3. Click a GSD command button
4. Verify: Button shows executing state briefly, command appears in terminal
  </verify>
  <done>GSD command buttons execute slash commands in terminal with visual feedback</done>
</task>

</tasks>

<verification>
Before declaring plan complete:
- [ ] All 4 GSD command buttons visible in terminal view
- [ ] Buttons have proper iOS-style hover and active states
- [ ] Clicking button sends command text to terminal
- [ ] Brief visual feedback shown when command executes
- [ ] No console errors
</verification>

<success_criteria>
- All tasks completed
- Command bar visible in terminal view with 4 buttons
- Each button sends its corresponding GSD command to the PTY session
- Visual feedback confirms command was sent
- Design matches existing iOS aesthetic
</success_criteria>

<output>
After completion, create `.planning/phases/02-gsd-quick-commands/02-01-SUMMARY.md`
</output>
