<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Claude Code</title>
    <link rel="stylesheet" href="./css/style.css">
    <link rel="stylesheet" href="../node_modules/xterm/css/xterm.css">
    <!-- xterm.js requires unsafe-eval for terminal rendering -->
    <meta http-equiv="Content-Security-Policy" content="default-src 'self'; style-src 'self' 'unsafe-inline'; script-src 'self' 'unsafe-eval'">
</head>
<body>
    <div class="app">
        <!-- Arrow -->
        <div class="arrow"></div>

        <!-- Container -->
        <div class="container">
            <!-- Grid View -->
            <div id="grid-view" class="view active">
                <!-- Header -->
                <div class="header">
                    <h1>Sessions</h1>
                </div>

                <!-- Content -->
                <div class="content">
                    <!-- Pinned Paths -->
                    <div id="pinned-section" class="section hidden">
                        <div class="section-header">
                            <span class="section-title">Pinned</span>
                        </div>
                        <div id="pinned-list" class="pinned-list"></div>
                    </div>

                    <!-- Sessions Grid -->
                    <div id="sessions-grid" class="sessions-grid"></div>

                    <!-- Empty State -->
                    <div id="empty-state" class="empty-state">
                        <div class="empty-illustration">
                            <svg width="64" height="64" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1">
                                <rect x="2" y="3" width="20" height="14" rx="2"/>
                                <line x1="8" y1="21" x2="16" y2="21"/>
                                <line x1="12" y1="17" x2="12" y2="21"/>
                            </svg>
                        </div>
                        <h2>No Sessions</h2>
                        <p>Start a new Claude session to get coding</p>
                        <button id="empty-add-btn" class="btn-primary">
                            <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" stroke-linecap="round">
                                <line x1="12" y1="5" x2="12" y2="19"></line>
                                <line x1="5" y1="12" x2="19" y2="12"></line>
                            </svg>
                            New Session
                        </button>
                    </div>

                    <!-- Add New Button -->
                    <button id="add-btn" class="add-btn hidden">
                        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" stroke-linecap="round">
                            <line x1="12" y1="5" x2="12" y2="19"></line>
                            <line x1="5" y1="12" x2="19" y2="12"></line>
                        </svg>
                        New Session
                    </button>
                </div>
            </div>

            <!-- Terminal View -->
            <div id="terminal-view" class="view">
                <div class="terminal-bar">
                    <button id="btn-back" class="btn-icon" title="Back">
                        <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" stroke-linecap="round">
                            <path d="M15 18l-6-6 6-6"/>
                        </svg>
                    </button>
                    <div class="terminal-info">
                        <span id="terminal-title">Session</span>
                        <span id="terminal-path" class="terminal-path">~/</span>
                    </div>
                    <!-- Mode Toggle -->
                    <div class="mode-toggle" title="Toggle dangerous mode">
                        <label class="toggle-switch">
                            <input type="checkbox" id="mode-toggle-input">
                            <span class="toggle-slider"></span>
                        </label>
                        <span class="mode-label" id="mode-label">Safe</span>
                    </div>
                    <button id="btn-pin" class="btn-icon" title="Pin this path">
                        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0118 0z"/>
                            <circle cx="12" cy="10" r="3"/>
                        </svg>
                    </button>
                    <button id="btn-ide" class="btn-icon" title="Open in IDE">
                        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                            <polyline points="16 18 22 12 16 6"></polyline>
                            <polyline points="8 6 2 12 8 18"></polyline>
                        </svg>
                    </button>
                    <button id="btn-summarize" class="btn-icon" title="Summarize & start fresh session">
                        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                            <path d="M21 2v6h-6"></path>
                            <path d="M3 12a9 9 0 0 1 15-6.7L21 8"></path>
                            <path d="M3 22v-6h6"></path>
                            <path d="M21 12a9 9 0 0 1-15 6.7L3 16"></path>
                        </svg>
                    </button>
                    <button id="btn-kill" class="btn-icon btn-danger" title="End Session">
                        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" stroke-linecap="round">
                            <line x1="18" y1="6" x2="6" y2="18"></line>
                            <line x1="6" y1="6" x2="18" y2="18"></line>
                        </svg>
                    </button>
                </div>
                <div id="terminal-container"></div>
            </div>
        </div>
    </div>

    <script src="../node_modules/xterm/lib/xterm.js"></script>
    <script src="../node_modules/xterm-addon-fit/lib/xterm-addon-fit.js"></script>
    <script src="./js/renderer.js"></script>
</body>
</html>
